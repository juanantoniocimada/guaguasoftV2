
<app-title title="gestión localizaciones">

</app-title>

<div class="card">

  <p-button
      class="navbar__button navbar__button--logout"
      label="restriccions por día de la semana"
      [outlined]="false"
      severity="warning"
      (click)="goTo('restrictions-locations-day-of-the-week')"
    >
  </p-button>

  <p-button
    class="navbar__button navbar__button--logout"
    label="restriccions por hora de la línea"
    [outlined]="false"
    severity="warning"
    (click)="goTo('restrictions-locations-line-hour')"
  >
  </p-button>

  <p-button
    class="navbar__button navbar__button--logout"
    label="Añadir localiación a linea"
    icon="pi pi-plus" [outlined]="true"
    severity="warning"
    (click)="add()">
  </p-button>

</div>

<div class="card">

  <p-dropdown
    [filter]="true"
    [options]="routes"
    [(ngModel)]="route"
    optionLabel="description"
    placeholder="selecciona una ruta"
    (onChange)="onOptionChange($event)"
  />

  <p-table [value]="locations" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>(id)</th>

        <th>description</th>

        <th>position</th>
        <th>tipo parada</th>

        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-location>
      <tr>
        <td>{{ location.id_locations_routes }}</td>

        <td>{{ location.description }}</td>

        <td>{{ location.position }}</td>
        <td>{{ location.type }}</td>

        <td>
          <p-button (click)="confirm(location)" icon="pi pi-trash" severity="warning" />
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
          <td colspan="11">No data.</td>
      </tr>
  </ng-template>
  </p-table>

</div>

<p-toast />

<p-confirmDialog>
  <ng-template pTemplate="message" let-message>
    <div class="flex flex-column align-items-center w-full gap-3 border-bottom-1 surface-border">
      <p>{{ message.message }}</p>
    </div>
  </ng-template>
</p-confirmDialog>
